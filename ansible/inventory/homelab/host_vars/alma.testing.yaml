ansible_host: 192.168.122.230

lan_v4_whitelist: 
  - 172.22.0.0/23

# -{Interface map}
#  It is not the job of these playbooks to configure the network interfaces
#   However, some plays/roles require interface names for proper configuration
network:
  wan_ifname: wan@enp1s0 # Wide Area Network
  man_ifname: man@enp1s0 # Management Area Network
  lan_ifname: lan@enp1s0 # Local Area network
  iot_ifname: iot@enp1s0 # Internet of Things
  interfaces:
    - ifname: enp1s0
      vlans:
        - id: 5
          ifname: wan
          method: auto
          dns_servers: ['1.1.1.1','8.8.8.8']
          uuid: 4a328eb8-fe42-4bd3-a331-e678a22ab6e9
        - id: 10
          ifname: man
          method: manual
          ipv4_address: 172.22.0.1/25
          uuid: c742a18e-39d6-4b12-851c-b20e1918d4e5
        - id: 20
          ifname: lan
          method: manual
          ipv4_address: 172.22.1.1/25
          uuid: c09943e3-dd8e-4621-934b-c085d1620a23
        - id: 30
          ifname: iot
          method: manual
          ipv4_address: 172.22.1.129/25
          uuid: 67a885d2-a69d-4034-b6d4-b38e5fca3207

# -{Role states}
#  Roles will be installed or cleaned up depending on the value
#   Possible values: "present", "absent"
nftables_state: present
fail2ban_state: present
# !-{These are WIP}
dynroute_state: present
sshd_mfa_state: present

# -{Role configurations}
## -{ NFTABLES }
#nftables_config:
nftables_blackhole: present
nftables_blackhole_version: "1.1.0"
nftables_blackhole_whitelist_v4: "{{ lan_v4_whitelist }}"
nftables_config_file: "{{ playbook_dir }}/../files/edge-firewall.nft"
#nftables_zones:
#  public:
#    jump_match: ""
#    rules: |
#      # -{Allow icmp-echo-requests}
#      icmp type echo-request accept
#      icmpv6 type echo-request accept
#      # -{Allow ssh connections}
#      tcp dport 22 accept
## -{ FAIL2BAM }
fail2ban_ignoreip: "{{ ' '.join(lan_v4_whitelist) }}"
